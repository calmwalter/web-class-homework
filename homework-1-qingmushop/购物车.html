<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="css/青竹0.css">
    <link rel="stylesheet" href="iconfont/iconfont.css">
    <link rel="stylesheet" href="css/购物车.css">
    <link rel="stylesheet" href="css/青竹6.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
</head>

<body>
    <div class="outer">
        <div class="inter">
            <a href="" class="logo"><img src="images/logo.png" alt=""></a>
            <ul>
                <li><a href="">查看所有类别</a></li>
                <li><a href="a青竹总界面.html">首页</a></li>
                <li><a href="">所有产品</a></li>
                <li><a href="">博客</a></li>
                <li><a href="">文章列表</a></li>
            </ul>
            <a href="" class="sousuo"><i class="icon iconfont icon-sousuo"></i></a>
            <div class="inter_right">
                <a href="./青竹登录.html">登录</a>
                <span>|</span>
                <a href="./青竹注册.html">注册</a>
                <a href=""><i class="icon iconfont icon-gouwuche" id="shop"></i>0</a>
            </div>
        </div>
        <div class="shop">
            <p>3件商品 总计:¥1111</p>
            <div class="shop1"><a href="购物车.html">去结算</a></div>
        </div>
    </div>



    <div class="outer9" id="app">
        <div class="inter1">
            <h1>购物车</h1>
        </div>
        <div class="inter2" >
            <div class="inter21">
                <input type="checkbox" class="checkAll" v-model:checked="isAllChecked" v-on:click="setAllCheck"><span class="s1">全选</span>
                <span class="s2">商品名称</span><span class="s3">单价</span>
                <span class="count">数量</span><span class="total">小计</span><span class="del">操作</span>
            </div>

            <div class="inter22">
                <ul v-for="(item, index) in items">
                    <li>
                        <input type="checkbox" class="check" v-model:checked="item.checked" v-on:click="calculateAll(index)"><img v-bind:src="item.img" alt="">
                        <span class="s1">{{item.name}}</span><span class="money">¥</span>
                        <span class="price">{{item.price}}</span><input type="button" value="-" class="sub" v-on:click="minusCommodity(index)">
                        <span class="count">{{item.count}}</span><input type="button" value="+" class="add" v-on:click="plusCommodity(index)">
                        <span class="money1">¥</span><span class="total">{{item.total}}</span>
                        <span class="del" v-on:click="deleteItem(index)">删除</span>
                    </li>
                </ul>
            </div>
            <div class="inter23">
                <div class="picture">
                    <img src="images/购物车.png" alt="">
                </div>
                <p>您的购物车还没有商品，快去挑选心爱的商品吧！</p>
                <a href=""><span>去逛逛</span></a>
            </div>
        </div>
        <div class="inter3">
            <div class="inter31">
                <div class="last">
                    <a href="./青竹登录.html">确认结算</a>
                </div>
                <!-- <input type="checkbox" class="checkAll"><span class="s1">全选</span>
                <span class="ss1">删除</span><span class="ss2">清除下架商品</span> -->
                <div class="foot">
                    已选<span class="totalCount">{{count}}</span>件
                    合计(不含运费) : <span class="totalPrice">¥{{total}}</span>元<br>
                    <span class="ss3">已优惠 : <span class="ss4"> ¥0</span></span>
                </div>
            </div>
        </div>
    </div>




    <div class="outer5">
        <div class="inter1">
            <div class="left">
                <a href=""><img src="images/logo.png" alt=""></a>
                <p>青竹良品原创生活类电商品牌，秉承一贯的严谨态度，我们深入世界各地，从源头全程严格把控商品生产环节，力求帮消费者甄选到最优质的商品，全线采用天然原材料，控制甲醛低量无害，采用进口工艺，国际生产线不断优化，食材保证核心原产地新鲜直供，让你享受品质生活
                </p>
            </div>
            <div class="center">
                <dl>
                    <dt><a href="">关于我们</a></dt>
                    <dd><a href="">我的品牌</a></dd>
                    <dd><a href="">公司动态</a></dd>
                    <dd><a href="">经历发展</a></dd>
                    <dd><a href="">商品推广</a></dd>
                </dl>
                <dl>
                    <dt><a href="">支付方式</a></dt>
                    <dd><a href="">微信支付</a></dd>
                    <dd><a href="">支付宝</a></dd>
                    <dd><a href="">百度钱包</a></dd>
                    <dd><a href="">货到付款</a></dd>
                </dl>
                <dl>
                    <dt><a href="">相关服务</a></dt>
                    <dd><a href="">退货政策</a></dd>
                    <dd><a href="">购物流程</a></dd>
                    <dd><a href="">客服服务</a></dd>
                    <dd><a href="">商务合作</a></dd>
                </dl>
            </div>
            <div class="right">
                <img src="images/weixin.png" alt="">
                <img src="images/weibo.png" alt="">
                <span>微信公众号</span>
                <span>微博公众号</span>
            </div>
        </div>
        <hr>
        <div class="inter2">

        </div>
    </div>

    <script src="jqurey.js"></script>
    <!-- <script src="购物车.js"></script> -->
    <script src="shop.js"></script>
    <script>
        var app = new Vue({
            el:"#app",
            data:{
                isAllChecked:false,
                total:0,
                count:0,
                items:[
                    {
                        img:"images/s1.png",
                        name:"经典系列红色时钟",
                        price:580,
                        count:1,
                        total:580,
                        checked:false
                    },
                    {
                        img:"images/s2.png",
                        name:"便携简约清扫扫帚",
                        price:580,
                        count:1,
                        total:580,
                        checked:false
                    },
                    {
                        img:"images/s3.png",
                        name:"黑色陶瓷研磨器皿",
                        price:150,
                        count:1,
                        total:150,
                        checked:false
                    }
                ]

            },
            methods:{
                setAllCheck:function(){
                    console.log(this.isAllChecked);
                    if(this.isAllChecked){
                        this.isAllChecked=false;
                        for(var i=0;i<this.items.length;i++){
                            this.items[i].checked=false;
                        }
                    }else{
                        this.isAllChecked=true;
                        for(var i=0;i<this.items.length;i++){
                            this.items[i].checked=true;
                        }
                    }
                    this.calculateAll();
                },
                calculateAll:function(id=null){
                    if(id!=null){
                        this.items[id].checked=true;
                    }
                    var cnt=0;
                    var total_price=0;
                    for(var i=0;i<this.items.length;i++){
                        if(!this.items[i].checked) continue;

                        cnt+=this.items[i].count;
                        total_price+=this.items[i].total;
                    }
                    this.total=total_price;
                    this.count=cnt;
                },
                setItemChecked:function(item){
                },
                plusCommodity:function(index){
                    this.items[index].count+=1;
                    this.items[index].total=this.items[index].price*this.items[index].count;
                    this.calculateAll();
                },
                minusCommodity:function(index){
                    if(this.items[index].count>0){
                        this.items[index].count-=1;
                        this.items[index].total=this.items[index].price*this.items[index].count;
                        this.calculateAll();
                    }

                },
                deleteItem:function(index){
                    this.items.splice(index,1);
                    this.calculateAll();
                }
            }
        });
    </script>
</body>

</html>